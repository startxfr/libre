<img align="right" height="50" src="https://raw.githubusercontent.com/startxfr/libre/dev/docs/assets/logo.svg?sanitize=true">

# Configuration files

When installing for the first time,  libre installer will create the following configuration files if 
not already present on your workstation.

| File                      | Description          | Ansible var
|---------------------------|----------------------|---------------------
| ~/.libre/config.yml       | libre configuration file. Contain configuration option related to the libre environement                                          | config_libre
| ~/.libre/session.yml      | configuration file for the session backend to use when configurating a training session                                           | config_session
| ~/.libre/repository.yml   | configuration file for the course repository backend to use when installing the libre environement                                | config_infra
| ~/.libre/infra.yml        | configuration file for the course infrastructure backends. Contain configuration option for classroom infrastructure deployment   | config_repository
| ~/.libre/infra-id_rsa     | Private key file to use for infra provisioning (must be replaced by your own certificate)                                        |
| ~/.libre/infra-id_rsa.pub | Public key file associated with private key file (must be replaced by your own certificate)                                       |

These file are loaded on application startup and content is loaded in dedicated ansible vars. You can acces to these files content 
by using the appropriate variable. For example to display the libre base directory (key __base__ in __directory__ section of `~/.libre/config.yml`), 
you can do ```yaml - debug: msg="{{ config_libre.directory.base }}"```.


# Libre directories

Libre application install various directory used for making the application available. 

| File                         | Description          
|------------------------------|-------------------------------------------
| /usr/share/lib               | Contain libre system librairies (playbook wrapper)
| /usr/share/bin               | Contain libre system commands (using librairies)
| /usr/local/lib/libre-ansible | Contain libre playbooks (called by librairies)
| /tmp/libre.txt               | Exchange file generated by playbooks and displayed by application (temporary)


# Course directory

When installing libre TMS, a working directory is created at `/usr/share/libre`. This directory hold all information
related to a running training session. You can only run one session at the same time. If you want to change
the running training session, you have to setup a new session with `libre-session config`.

| File                                     | Description          
|------------------------------------------|-------------------------------------------
| /usr/share/libre/conf                    | Directory for session configuration
| /usr/share/libre/conf/infra.yml          | Session classroom infrastructure config file (defined by infra backend used)
| /usr/share/libre/conf/infra-inventory/   | Infrastructure inventory (defined by infra backend used)
| /usr/share/libre/collect                 | Directory storing file to be collected at the end of the session
| /usr/share/libre/collect/log.yml         | Log file storing action performed using libre commands
| /usr/share/libre/collect/signsheet-*.svg | Student signsheet collected during running session
| /usr/share/libre/collect/survey-*.yml    | Student survey collected during running session
| /usr/share/libre/course                  | Directory storing the course session material
| /usr/share/libre/course/book             | Directory storing the course book
| /usr/share/libre/course/playbooks        | Directory storing playbooks used to personnalize course behavior
